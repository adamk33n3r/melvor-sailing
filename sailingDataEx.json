{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "sailingDataEx.json",
    "allOf": [
        {"$ref": "https://melvoridle.com/assets/schema/gameData.json"},
        {
            "properties": {
                "sailingData": {
                    "type": "object",
                    "description": "test DATAAA",
                    "properties": {
                        "items": {
                            "description": "Sailing Items",
                            "type": "array",
                            "items": {
                                "$ref": "#/$defs/AnySailingItemData"
                            },
                            "minItems": 1,
                            "uniqueItems": true
                        }
                    }
                }
            }
        }
    ],
    "$defs": {
        "AnySailingItemData": {
            "description": "test sailing data",
            "type": "object",
            "discriminator": {
                "propertyName": "itemType"
            },
            "oneOf": [
                { "$ref": "#/$defs/EquipmentItemData" }
            ]
        },
        "EquipmentItemData": {
            "allOf": [ { "$ref": "https://melvoridle.com/assets/schema/gameData.json#/$defs/BaseItemData" } ],
            "properties": {
                "itemType": {
                    "type": "string",
                    "const": "Equipment"
                },
                "equipRequirements": {
                    "description": "Array of requirements that are needed in order to equip this item",
                    "type": "array",
                    "items": {
                        "$ref": "https://melvoridle.com/assets/schema/gameData.json#/$defs/AnyRequirementData"
                    },
                    "uniqueItems": true
                },
                "equipmentStats": {
                    "description": "Equipment stats that are provided by this item. Do not apply if item is in the Passive slot.",
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/SailingEquipStatData"
                    }
                },
                "validSlots": {
                    "description": "The valid equipment slots that this item can be equipped to.",
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/SailingEquipmentSlotID"
                    },
                    "minItems": 1,
                    "uniqueItems": true
                }
            },
            "required": [
                "itemType",
                "equipRequirements",
                "equipmentStats",
                "validSlots"
            ],
            "unevaluatedProperties": false
        },
        "SailingEquipmentSlotID": {
            "type": "string",
            "enum": [
                "sailing:Ram",
                "sailing:Deck",
                "sailing:Hull",
                "sailing:Rudder"
            ]
        },
        "SailingEquipStatData": {
            "type": "object",
            "properties": {
                "key": {
                    "description": "The equipment stat that is provided",
                    "oneOf": [
                        {
                            "$ref": "#/$defs/SailingEquipStatKey"
                        }
                    ]
                },
                "value": {
                    "description": "The value of the equipment stat provided",
                    "type": "number"
                }
            },
            "required": [
                "key",
                "value"
            ],
            "unevaluatedProperties": false
        },
        "SailingEquipStatKey": {
            "type": "string",
            "enum": [
                "morale",
                "combat",
                "seafaring",
                "speed"
            ]
        }
    }
}
